openapi: 3.1.0

info:
  title: Van Nav Enhanced API
  version: 1.0-enhanced
  description: |
    # ğŸš€ Van Nav Enhanced - å¢å¼ºç‰ˆå¯¼èˆªç«™ API
    
    åŸºäº [Van Nav v1.12.1](https://github.com/Mereithhh/van-nav) çš„å¢å¼ºç‰ˆæœ¬ï¼Œæ–°å¢å­åˆ†ç±»ç³»ç»Ÿã€æ™ºèƒ½æ’åºç­‰å¼ºå¤§åŠŸèƒ½ã€‚
    
    ## âœ¨ å¢å¼ºç‰ˆæ–°ç‰¹æ€§
    
    ### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
    - **å­åˆ†ç±»ç³»ç»Ÿ**: æ”¯æŒåœ¨å¤§åˆ†ç±»ä¸‹åˆ›å»ºå­åˆ†ç±»ï¼Œæ›´çµæ´»çš„ç»„ç»‡æ–¹å¼
    - **æ™ºèƒ½æ’åº**: åŸºäº COUNT(*) çš„è‡ªåŠ¨åºå·ç®¡ç†ï¼Œé¿å…åºå·å†²çª
    - **è‡ªåŠ¨åˆ†ç±»**: API è°ƒç”¨æ—¶è‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„åˆ†ç±»/å­åˆ†ç±»
    - **åˆ é™¤ä¿æŠ¤**: åŒ…å«ä¹¦ç­¾çš„åˆ†ç±»/å­åˆ†ç±»æ— æ³•åˆ é™¤
    - **å­—ç¬¦ä¸²åŒ–å­åˆ†ç±»**: ä½¿ç”¨å­—ç¬¦ä¸²æŒ‡å®šå­åˆ†ç±»ï¼Œæ›´ç®€æ´æ˜“ç”¨
    
    ### ğŸ“Š æ•°æ®ç®¡ç†
    - **ä¹¦ç­¾ç®¡ç†**: CRUD æ“ä½œï¼Œæ”¯æŒå¯¼å…¥/å¯¼å‡ºã€æ‰¹é‡æ’åº
    - **åˆ†ç±»ç®¡ç†**: å¤§åˆ†ç±»å’Œå­åˆ†ç±»çš„å®Œæ•´ç®¡ç†
    - **æœç´¢å¼•æ“**: è‡ªå®šä¹‰æœç´¢å¼•æ“é…ç½®
    - **ç«™ç‚¹é…ç½®**: å®Œæ•´çš„ç«™ç‚¹è®¾ç½®å’Œä¸»é¢˜é…ç½®
    
    ## ğŸ” è®¤è¯è¯´æ˜
    
    å¤§éƒ¨åˆ†ç®¡ç†æ¥å£éœ€è¦ JWT è®¤è¯ã€‚è®¤è¯æµç¨‹ï¼š
    
    1. è°ƒç”¨ `/api/login` è·å– JWT token
    2. åœ¨åç»­è¯·æ±‚çš„ Header ä¸­æ·»åŠ ï¼š`Authorization: Bearer {token}`
    3. Token æœ‰æ•ˆæœŸï¼šç™»å½•åæŒç»­æœ‰æ•ˆï¼Œç›´åˆ°ç™»å‡º
    
    **ç¤ºä¾‹**ï¼š
    ```bash
    # 1. ç™»å½•
    curl -X POST http://localhost:6412/api/login \
      -H "Content-Type: application/json" \
      -d '{"name":"admin","password":"admin"}'
    
    # 2. ä½¿ç”¨ token
    curl http://localhost:6412/api/admin/all \
      -H "Authorization: Bearer eyJhbG..."
    ```
    
    ## ğŸ“š å¿«é€Ÿå¼€å§‹
    
    ### æ·»åŠ ä¹¦ç­¾ï¼ˆè‡ªåŠ¨åˆ›å»ºåˆ†ç±»ï¼‰
    
    ```bash
    curl -X POST http://localhost:6412/api/admin/tool \
      -H "Authorization: Bearer {token}" \
      -H "Content-Type: application/json" \
      -d '{
        "name": "GitHub",
        "url": "https://github.com",
        "catelog": "å¼€å‘å·¥å…·",
        "subCatelog": "ä»£ç æ‰˜ç®¡",
        "desc": "å…¨çƒæœ€å¤§çš„ä»£ç æ‰˜ç®¡å¹³å°"
      }'
    ```
    
    ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
    - åˆ›å»º"å¼€å‘å·¥å…·"å¤§åˆ†ç±»ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
    - åˆ›å»º"ä»£ç æ‰˜ç®¡"å­åˆ†ç±»ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
    - æ·»åŠ ä¹¦ç­¾å¹¶åˆ†é…åºå·
    
    ### è·å–æ‰€æœ‰æ•°æ®
    
    ```bash
    # å…¬å¼€æ¥å£ï¼Œæ— éœ€è®¤è¯
    curl http://localhost:6412/api/
    ```
    
    è¿”å›æ‰€æœ‰ä¹¦ç­¾ã€åˆ†ç±»ã€å­åˆ†ç±»ã€è®¾ç½®ç­‰æ•°æ®ã€‚
    
    ## ğŸ¨ API è®¾è®¡åŸåˆ™
    
    - **RESTful é£æ ¼**: æ ‡å‡†çš„ REST API è®¾è®¡
    - **JSON æ ¼å¼**: ç»Ÿä¸€ä½¿ç”¨ JSON è¿›è¡Œæ•°æ®äº¤æ¢
    - **å‹å¥½é”™è¯¯**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’ŒçŠ¶æ€ç 
    - **è‡ªåŠ¨åŒ–**: æœ€å¤§ç¨‹åº¦å‡å°‘æ‰‹åŠ¨é…ç½®
    
    ## ğŸ“– æ›´å¤šèµ„æº
    
    - [GitHub ä»“åº“](https://github.com/DeerFishSheep/van-nav-enhanced)
    - [é—®é¢˜åé¦ˆ](https://github.com/DeerFishSheep/van-nav-enhanced/issues)
    - [åŸé¡¹ç›®](https://github.com/Mereithhh/van-nav)
    
  contact:
    name: DeerFishSheep
    url: https://github.com/DeerFishSheep/van-nav-enhanced
    
  license:
    name: MIT
    url: https://github.com/DeerFishSheep/van-nav-enhanced/blob/main/LICENSE
    
  x-logo:
    url: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzY2N2VlYSIgcng9IjIwIi8+PHRleHQgeD0iNTAiIHk9IjY1IiBmb250LXNpemU9IjUwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSI+8J+TmjwvdGV4dD48L3N2Zz4='
    backgroundColor: '#667eea'
    altText: 'Van Nav Enhanced Logo'

externalDocs:
  description: å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—
  url: https://github.com/DeerFishSheep/van-nav-enhanced/blob/main/README.md

servers:
  - url: http://localhost:6412
    description: æœ¬åœ°å¼€å‘ç¯å¢ƒ
  - url: http://localhost:6412/api
    description: æœ¬åœ°å¼€å‘ç¯å¢ƒï¼ˆAPI å‰ç¼€ï¼‰
  - url: https://your-domain.com
    description: ç”Ÿäº§ç¯å¢ƒï¼ˆæ›¿æ¢ä¸ºæ‚¨çš„åŸŸåï¼‰
  - url: https://your-domain.com/api
    description: ç”Ÿäº§ç¯å¢ƒ API åœ°å€

tags:
  - name: è®¤è¯
    description: |
      ç”¨æˆ·ç™»å½•ã€ç™»å‡ºå’Œä»¤ç‰Œç®¡ç†ã€‚
      
      **é»˜è®¤è´¦å·**: admin / adminï¼ˆé¦–æ¬¡ä½¿ç”¨åè¯·åŠæ—¶ä¿®æ”¹ï¼‰
      
  - name: å…¬å…±æ¥å£
    description: |
      æ— éœ€è®¤è¯å³å¯è®¿é—®çš„æ¥å£ï¼ŒåŒ…æ‹¬è·å–ä¹¦ç­¾ã€åˆ†ç±»ã€æœç´¢å¼•æ“ç­‰å…¬å¼€æ•°æ®ã€‚
      
      **æ³¨æ„**: æ ‡è®°ä¸ºéšè—(hide=true)çš„å†…å®¹éœ€è¦ç™»å½•åæ‰èƒ½æŸ¥çœ‹ã€‚
      
  - name: ç®¡ç†å‘˜ - æ•°æ®
    description: è·å–å®Œæ•´çš„ç®¡ç†æ•°æ®ï¼ŒåŒ…æ‹¬æ‰€æœ‰ä¹¦ç­¾ã€åˆ†ç±»ã€è®¾ç½®ç­‰
    
  - name: ç®¡ç†å‘˜ - å·¥å…·
    description: |
      ä¹¦ç­¾ç®¡ç†æ¥å£ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ã€‚
      
      **å¢å¼ºåŠŸèƒ½**ï¼š
      - âœ… è‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„å¤§åˆ†ç±»
      - âœ… è‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„å­åˆ†ç±»
      - âœ… ç©ºå­åˆ†ç±»è‡ªåŠ¨åˆ†é…åˆ°"é»˜è®¤"
      - âœ… è‡ªåŠ¨åºå·ç®¡ç†ï¼ˆæ— éœ€æ‰‹åŠ¨æŒ‡å®šï¼‰
      - âœ… æ™ºèƒ½æ’åºè°ƒæ•´ï¼ˆä¿®æ”¹åºå·æ—¶è‡ªåŠ¨é‡æ’ï¼‰
      
  - name: ç®¡ç†å‘˜ - åˆ†ç±»
    description: |
      å¤§åˆ†ç±»ç®¡ç†æ¥å£ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ã€‚
      
      **åˆ é™¤ä¿æŠ¤**: åŒ…å«ä¹¦ç­¾çš„åˆ†ç±»æ— æ³•åˆ é™¤ã€‚
      
  - name: ç®¡ç†å‘˜ - å­åˆ†ç±»
    description: |
      å­åˆ†ç±»ç®¡ç†æ¥å£ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ã€‚
      
      **å¢å¼ºåŠŸèƒ½**ï¼š
      - âœ… å­åˆ†ç±»ç‹¬ç«‹æ’åºï¼ˆä»…åœ¨æ‰€å±å¤§åˆ†ç±»ä¸‹è®¡ç®—ï¼‰
      - âœ… åˆ é™¤ä¿æŠ¤ï¼ˆåŒ…å«ä¹¦ç­¾çš„å­åˆ†ç±»æ— æ³•åˆ é™¤ï¼‰
      - âœ… è‡ªåŠ¨åºå·ç®¡ç†
      
  - name: ç®¡ç†å‘˜ - æœç´¢å¼•æ“
    description: |
      æœç´¢å¼•æ“ç®¡ç†æ¥å£ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ã€‚
      
      æ”¯æŒè‡ªå®šä¹‰æœç´¢å¼•æ“ï¼Œå¦‚ Googleã€Bingã€ç™¾åº¦ç­‰ã€‚
      
  - name: ç®¡ç†å‘˜ - API Token
    description: |
      API Token ç®¡ç†æ¥å£ã€‚
      
      ç”¨äºç¨‹åºåŒ–è®¿é—® APIï¼Œæ— éœ€æ¯æ¬¡ç™»å½•ã€‚
      
  - name: ç®¡ç†å‘˜ - è®¾ç½®
    description: |
      ç³»ç»Ÿè®¾ç½®å’Œç«™ç‚¹é…ç½®ç®¡ç†ã€‚
      
      åŒ…æ‹¬ç½‘ç«™æ ‡é¢˜ã€å›¾æ ‡ã€ä¸»é¢˜ã€è·³è½¬æ–¹å¼ç­‰ã€‚
      
  - name: ç®¡ç†å‘˜ - ç”¨æˆ·
    description: |
      ç”¨æˆ·ä¿¡æ¯ç®¡ç†æ¥å£ã€‚
      
      **é‡è¦**: ä¿®æ”¹å¯†ç åéœ€è¦é‡æ–°ç™»å½•ã€‚

components:
  schemas:
    Tool:
      type: object
      properties:
        id:
          type: integer
          description: å·¥å…·ID
        name:
          type: string
          description: å·¥å…·åç§°
        url:
          type: string
          description: å·¥å…·é“¾æ¥
        logo:
          type: string
          description: Logo URL
        catelog:
          type: string
          description: å¤§åˆ†ç±»åç§°
        subCatelog:
          type: string
          description: å­åˆ†ç±»åç§°
        subCatelogId:
          type: integer
          description: å­åˆ†ç±»ID
        desc:
          type: string
          description: æè¿°
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    AddToolDto:
      type: object
      required:
        - name
        - url
        - catelog
      properties:
        name:
          type: string
          description: å·¥å…·åç§°
        url:
          type: string
          description: å·¥å…·é“¾æ¥
        logo:
          type: string
          description: Logo URLï¼ˆå¯é€‰ï¼Œä¸ºç©ºåˆ™è‡ªåŠ¨è·å–ï¼‰
        catelog:
          type: string
          description: å¤§åˆ†ç±»åç§°ï¼ˆä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
        subCatelog:
          type: string
          description: å­åˆ†ç±»åç§°ï¼ˆå¯é€‰ï¼Œä¸ºç©ºæ—¶åˆ†é…åˆ°"é»˜è®¤"å­åˆ†ç±»ï¼Œä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
        desc:
          type: string
          description: æè¿°
        sort:
          type: integer
          description: æ’åºå€¼ï¼ˆå¯é€‰ï¼Œä¸ºç©ºæ—¶è‡ªåŠ¨åˆ†é…ï¼‰
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    UpdateToolDto:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
          description: å·¥å…·ID
        name:
          type: string
          description: å·¥å…·åç§°
        url:
          type: string
          description: å·¥å…·é“¾æ¥
        logo:
          type: string
          description: Logo URL
        catelog:
          type: string
          description: å¤§åˆ†ç±»åç§°
        subCatelog:
          type: string
          description: å­åˆ†ç±»åç§°
        desc:
          type: string
          description: æè¿°
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    UpdateToolsSortDto:
      type: object
      properties:
        id:
          type: integer
          description: å·¥å…·ID
        sort:
          type: integer
          description: æ–°çš„æ’åºå€¼

    Catelog:
      type: object
      properties:
        id:
          type: integer
          description: åˆ†ç±»ID
        name:
          type: string
          description: åˆ†ç±»åç§°
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    AddCatelogDto:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          description: åˆ†ç±»åç§°
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    UpdateCatelogDto:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
          description: åˆ†ç±»ID
        name:
          type: string
          description: åˆ†ç±»åç§°
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    SubCatelog:
      type: object
      properties:
        id:
          type: integer
          description: å­åˆ†ç±»ID
        name:
          type: string
          description: å­åˆ†ç±»åç§°
        catelogId:
          type: integer
          description: æ‰€å±å¤§åˆ†ç±»ID
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    AddSubCatelogDto:
      type: object
      required:
        - name
        - catelogId
      properties:
        name:
          type: string
          description: å­åˆ†ç±»åç§°
        catelogId:
          type: integer
          description: æ‰€å±å¤§åˆ†ç±»ID
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    UpdateSubCatelogDto:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
          description: å­åˆ†ç±»ID
        name:
          type: string
          description: å­åˆ†ç±»åç§°
        catelogId:
          type: integer
          description: æ‰€å±å¤§åˆ†ç±»ID
        sort:
          type: integer
          description: æ’åºå€¼
        hide:
          type: boolean
          description: æ˜¯å¦éšè—

    UpdateSubCatelogsSortDto:
      type: object
      properties:
        id:
          type: integer
          description: å­åˆ†ç±»ID
        sort:
          type: integer
          description: æ–°çš„æ’åºå€¼

    SearchEngine:
      type: object
      properties:
        id:
          type: integer
          description: æœç´¢å¼•æ“ID
        name:
          type: string
          description: æœç´¢å¼•æ“åç§°
        baseUrl:
          type: string
          description: åŸºç¡€URL
        queryParam:
          type: string
          description: æŸ¥è¯¢å‚æ•°å
        logo:
          type: string
          description: Logo URL
        sort:
          type: integer
          description: æ’åºå€¼
        enabled:
          type: boolean
          description: æ˜¯å¦å¯ç”¨

    AddSearchEngineDto:
      type: object
      required:
        - name
        - baseUrl
        - queryParam
      properties:
        name:
          type: string
          description: æœç´¢å¼•æ“åç§°
        baseUrl:
          type: string
          description: åŸºç¡€URL
        queryParam:
          type: string
          description: æŸ¥è¯¢å‚æ•°å
        logo:
          type: string
          description: Logo URL
        sort:
          type: integer
          description: æ’åºå€¼
        enabled:
          type: boolean
          description: æ˜¯å¦å¯ç”¨

    UpdateSearchEngineDto:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
          description: æœç´¢å¼•æ“ID
        name:
          type: string
          description: æœç´¢å¼•æ“åç§°
        baseUrl:
          type: string
          description: åŸºç¡€URL
        queryParam:
          type: string
          description: æŸ¥è¯¢å‚æ•°å
        logo:
          type: string
          description: Logo URL
        sort:
          type: integer
          description: æ’åºå€¼
        enabled:
          type: boolean
          description: æ˜¯å¦å¯ç”¨

    UpdateSearchEngineSortDto:
      type: object
      properties:
        id:
          type: integer
          description: æœç´¢å¼•æ“ID
        sort:
          type: integer
          description: æ–°çš„æ’åºå€¼

    Setting:
      type: object
      properties:
        id:
          type: integer
          description: è®¾ç½®ID
        favicon:
          type: string
          description: ç½‘ç«™å›¾æ ‡URL
        title:
          type: string
          description: ç½‘ç«™æ ‡é¢˜
        govRecord:
          type: string
          description: å¤‡æ¡ˆå·
        logo192:
          type: string
          description: 192x192 Logo URL
        logo512:
          type: string
          description: 512x512 Logo URL
        hideAdmin:
          type: boolean
          description: æ˜¯å¦éšè—ç®¡ç†å‘˜å…¥å£
        hideGithub:
          type: boolean
          description: æ˜¯å¦éšè—GitHubé“¾æ¥
        hideToggleJumpTarget:
          type: boolean
          description: æ˜¯å¦éšè—è·³è½¬ç›®æ ‡åˆ‡æ¢
        jumpTargetBlank:
          type: boolean
          description: æ˜¯å¦åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€é“¾æ¥

    SiteConfig:
      type: object
      properties:
        id:
          type: integer
          description: é…ç½®ID
        noImageMode:
          type: boolean
          description: æ— å›¾æ¨¡å¼
        compactMode:
          type: boolean
          description: ç´§å‡‘æ¨¡å¼

    LoginDto:
      type: object
      required:
        - name
        - password
      properties:
        name:
          type: string
          description: ç”¨æˆ·å
        password:
          type: string
          description: å¯†ç 

    UpdateUserDto:
      type: object
      required:
        - name
        - password
      properties:
        name:
          type: string
          description: ç”¨æˆ·å
        password:
          type: string
          description: å¯†ç 

    ApiToken:
      type: object
      properties:
        id:
          type: integer
          description: Token ID
        name:
          type: string
          description: Token åç§°
        value:
          type: string
          description: Token å€¼
        disabled:
          type: integer
          description: æ˜¯å¦ç¦ç”¨ï¼ˆ0=å¯ç”¨, 1=ç¦ç”¨ï¼‰

    AddTokenDto:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          description: Token åç§°

    StandardResponse:
      type: object
      properties:
        success:
          type: boolean
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸ
        message:
          type: string
          description: å“åº”æ¶ˆæ¯
        data:
          type: object
          description: å“åº”æ•°æ®

    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          description: è¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆé€šå¸¸ä¸ºfalseï¼‰
        errorMessage:
          type: string
          description: é”™è¯¯æ¶ˆæ¯

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT è®¤è¯ä»¤ç‰Œ

paths:
  /api/login:
    post:
      security: []
      summary: ç”¨æˆ·ç™»å½•
      tags:
        - è®¤è¯
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoginDto"
      responses:
        "200":
          description: ç™»å½•æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          user:
                            type: object
                            properties:
                              name:
                                type: string
                          token:
                            type: string

  /api/logout:
    get:
      security: []
      summary: ç”¨æˆ·ç™»å‡º
      tags:
        - è®¤è¯
      responses:
        "200":
          description: ç™»å‡ºæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/:
    get:
      security: []
      summary: è·å–æ‰€æœ‰å…¬å¼€æ•°æ®
      tags:
        - å…¬å…±æ¥å£
      description: è·å–æ‰€æœ‰å·¥å…·ã€åˆ†ç±»ã€å­åˆ†ç±»ã€è®¾ç½®å’Œç½‘ç«™é…ç½®ï¼ˆéšè—çš„å†…å®¹éœ€è¦ç™»å½•åæ‰èƒ½çœ‹åˆ°ï¼‰
      responses:
        "200":
          description: æˆåŠŸè·å–æ‰€æœ‰æ•°æ®
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          tools:
                            type: array
                            items:
                              $ref: "#/components/schemas/Tool"
                          catelogs:
                            type: array
                            items:
                              $ref: "#/components/schemas/Catelog"
                          subcatelogs:
                            type: array
                            items:
                              $ref: "#/components/schemas/SubCatelog"
                          setting:
                            $ref: "#/components/schemas/Setting"
                          siteConfig:
                            $ref: "#/components/schemas/SiteConfig"

  /api/searchEngines:
    get:
      security: []
      summary: è·å–å¯ç”¨çš„æœç´¢å¼•æ“
      tags:
        - å…¬å…±æ¥å£
      description: è·å–æ‰€æœ‰å¯ç”¨çš„æœç´¢å¼•æ“åˆ—è¡¨
      responses:
        "200":
          description: æˆåŠŸè·å–æœç´¢å¼•æ“åˆ—è¡¨
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/SearchEngine"

  /api/img:
    get:
      security: []
      summary: è·å– logo å›¾ç‰‡
      tags:
        - å…¬å…±æ¥å£
      parameters:
        - name: url
          in: query
          required: true
          schema:
            type: string
          description: å›¾ç‰‡URL
      responses:
        "200":
          description: æˆåŠŸè·å–å›¾ç‰‡
          content:
            image/*:
              schema:
                type: string
                format: binary

  /manifest.json:
    get:
      security: []
      summary: è·å– PWA manifest
      tags:
        - å…¬å…±æ¥å£
      responses:
        "200":
          description: æˆåŠŸè·å– manifest
          content:
            application/json:
              schema:
                type: object
                properties:
                  short_name:
                    type: string
                  name:
                    type: string
                  icons:
                    type: array
                    items:
                      type: object
                      properties:
                        src:
                          type: string
                        type:
                          type: string
                        sizes:
                          type: string
                  start_url:
                    type: string
                  display:
                    type: string
                  scope:
                    type: string
                  theme_color:
                    type: string
                  background_color:
                    type: string

  /api/admin/all:
    get:
      summary: ç®¡ç†å‘˜è·å–æ‰€æœ‰æ•°æ®
      tags:
        - ç®¡ç†å‘˜ - æ•°æ®
      security:
        - BearerAuth: []
      description: è·å–æ‰€æœ‰å·¥å…·ã€åˆ†ç±»ã€å­åˆ†ç±»ã€è®¾ç½®ã€ç½‘ç«™é…ç½®ã€ç”¨æˆ·ä¿¡æ¯å’ŒAPIä»¤ç‰Œ
      responses:
        "200":
          description: æˆåŠŸè·å–æ‰€æœ‰æ•°æ®
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          tools:
                            type: array
                            items:
                              $ref: "#/components/schemas/Tool"
                          catelogs:
                            type: array
                            items:
                              $ref: "#/components/schemas/Catelog"
                          subcatelogs:
                            type: array
                            items:
                              $ref: "#/components/schemas/SubCatelog"
                          setting:
                            $ref: "#/components/schemas/Setting"
                          siteConfig:
                            $ref: "#/components/schemas/SiteConfig"
                          user:
                            type: object
                            properties:
                              name:
                                type: string
                              id:
                                type: integer
                          tokens:
                            type: array
                            items:
                              $ref: "#/components/schemas/ApiToken"

  /api/admin/exportTools:
    get:
      summary: å¯¼å‡ºæ‰€æœ‰å·¥å…·
      tags:
        - ç®¡ç†å‘˜ - å·¥å…·
      security:
        - BearerAuth: []
      responses:
        "200":
          description: æˆåŠŸå¯¼å‡ºå·¥å…·åˆ—è¡¨
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Tool"

  /api/admin/importTools:
    post:
      summary: å¯¼å…¥å·¥å…·åˆ—è¡¨
      tags:
        - ç®¡ç†å‘˜ - å·¥å…·
      security:
        - BearerAuth: []
      description: |
        æ‰¹é‡å¯¼å…¥å·¥å…·ã€‚å¯¼å…¥æ—¶ä¼šè‡ªåŠ¨å¤„ç†ï¼š
        - å¦‚æœå¤§åˆ†ç±»ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
        - å¦‚æœå­åˆ†ç±»ä¸ºç©ºï¼Œä¼šè‡ªåŠ¨åˆ†é…åˆ°"é»˜è®¤"å­åˆ†ç±»
        - å¦‚æœå­åˆ†ç±»ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»º
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/Tool"
      responses:
        "200":
          description: å¯¼å…¥æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/tool:
    post:
      summary: æ·»åŠ æ–°å·¥å…·
      tags:
        - ç®¡ç†å‘˜ - å·¥å…·
      security:
        - BearerAuth: []
      description: |
        æ·»åŠ æ–°å·¥å…·ã€‚è¯´æ˜ï¼š
        - catelog: å¤§åˆ†ç±»åç§°ï¼ˆå¿…å¡«ï¼‰ï¼Œä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º
        - subCatelog: å­åˆ†ç±»åç§°ï¼ˆå¯é€‰ï¼‰ï¼Œä¸ºç©ºæ—¶è‡ªåŠ¨åˆ†é…åˆ°"é»˜è®¤"å­åˆ†ç±»ï¼Œä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º
        - sort: æ’åºå€¼ï¼ˆå¯é€‰ï¼‰ï¼Œä¸ºç©ºæ—¶è‡ªåŠ¨åˆ†é…ä¸ºæœ€å¤§å€¼+1
        - logo: Logo URLï¼ˆå¯é€‰ï¼‰ï¼Œä¸ºç©ºåˆ™è‡ªåŠ¨è·å–
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddToolDto"
      responses:
        "200":
          description: æ·»åŠ æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/tool/{id}:
    delete:
      summary: åˆ é™¤å·¥å…·
      tags:
        - ç®¡ç†å‘˜ - å·¥å…·
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å·¥å…·ID
      responses:
        "200":
          description: åˆ é™¤æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

    put:
      summary: æ›´æ–°å·¥å…·
      tags:
        - ç®¡ç†å‘˜ - å·¥å…·
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å·¥å…·ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateToolDto"
      responses:
        "200":
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/tools/sort:
    put:
      summary: æ‰¹é‡æ›´æ–°å·¥å…·æ’åº
      tags:
        - ç®¡ç†å‘˜ - å·¥å…·
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/UpdateToolsSortDto"
      responses:
        "200":
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"
        "400":
          description: è¯·æ±‚å‚æ•°é”™è¯¯
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
        "500":
          description: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/admin/catelog:
    post:
      summary: æ·»åŠ æ–°åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - åˆ†ç±»
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddCatelogDto"
      responses:
        "200":
          description: æ·»åŠ åˆ†ç±»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/catelog/{id}:
    delete:
      summary: åˆ é™¤åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - åˆ†ç±»
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: åˆ†ç±»ID
      responses:
        "200":
          description: åˆ é™¤åˆ†ç±»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

    put:
      summary: æ›´æ–°åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - åˆ†ç±»
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: åˆ†ç±»ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateCatelogDto"
      responses:
        "200":
          description: æ›´æ–°åˆ†ç±»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/subcatelog:
    get:
      summary: è·å–æ‰€æœ‰å­åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - å­åˆ†ç±»
      security:
        - BearerAuth: []
      responses:
        "200":
          description: æˆåŠŸè·å–æ‰€æœ‰å­åˆ†ç±»
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/SubCatelog"

    post:
      summary: æ·»åŠ æ–°å­åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - å­åˆ†ç±»
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddSubCatelogDto"
      responses:
        "200":
          description: æ·»åŠ å­åˆ†ç±»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/subcatelog/{catelogId}:
    get:
      summary: è·å–ç‰¹å®šå¤§åˆ†ç±»ä¸‹çš„å­åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - å­åˆ†ç±»
      security:
        - BearerAuth: []
      parameters:
        - name: catelogId
          in: path
          required: true
          schema:
            type: integer
          description: å¤§åˆ†ç±»ID
      responses:
        "200":
          description: æˆåŠŸè·å–å­åˆ†ç±»åˆ—è¡¨
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/SubCatelog"

  /api/admin/subcatelog/{id}:
    put:
      summary: æ›´æ–°å­åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - å­åˆ†ç±»
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å­åˆ†ç±»ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateSubCatelogDto"
      responses:
        "200":
          description: æ›´æ–°å­åˆ†ç±»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

    delete:
      summary: åˆ é™¤å­åˆ†ç±»
      tags:
        - ç®¡ç†å‘˜ - å­åˆ†ç±»
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: å­åˆ†ç±»ID
      responses:
        "200":
          description: åˆ é™¤å­åˆ†ç±»æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/subcatelogs/sort:
    put:
      summary: æ‰¹é‡æ›´æ–°å­åˆ†ç±»æ’åº
      tags:
        - ç®¡ç†å‘˜ - å­åˆ†ç±»
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/UpdateSubCatelogsSortDto"
      responses:
        "200":
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/searchEngine:
    get:
      summary: è·å–æ‰€æœ‰æœç´¢å¼•æ“
      tags:
        - ç®¡ç†å‘˜ - æœç´¢å¼•æ“
      security:
        - BearerAuth: []
      responses:
        "200":
          description: æˆåŠŸè·å–æ‰€æœ‰æœç´¢å¼•æ“
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/SearchEngine"

    post:
      summary: æ·»åŠ æœç´¢å¼•æ“
      tags:
        - ç®¡ç†å‘˜ - æœç´¢å¼•æ“
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddSearchEngineDto"
      responses:
        "200":
          description: æ·»åŠ æœç´¢å¼•æ“æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/searchEngine/{id}:
    put:
      summary: æ›´æ–°æœç´¢å¼•æ“
      tags:
        - ç®¡ç†å‘˜ - æœç´¢å¼•æ“
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: æœç´¢å¼•æ“ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateSearchEngineDto"
      responses:
        "200":
          description: æ›´æ–°æœç´¢å¼•æ“æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

    delete:
      summary: åˆ é™¤æœç´¢å¼•æ“
      tags:
        - ç®¡ç†å‘˜ - æœç´¢å¼•æ“
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: æœç´¢å¼•æ“ID
      responses:
        "200":
          description: åˆ é™¤æœç´¢å¼•æ“æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/searchEngines/sort:
    put:
      summary: æ‰¹é‡æ›´æ–°æœç´¢å¼•æ“æ’åº
      tags:
        - ç®¡ç†å‘˜ - æœç´¢å¼•æ“
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/UpdateSearchEngineSortDto"
      responses:
        "200":
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/apiToken:
    post:
      summary: æ·»åŠ  API Token
      tags:
        - ç®¡ç†å‘˜ - API Token
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddTokenDto"
      responses:
        "200":
          description: æ·»åŠ  Token æˆåŠŸ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/StandardResponse"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          id:
                            type: integer
                          value:
                            type: string
                          name:
                            type: string

  /api/admin/apiToken/{id}:
    delete:
      summary: åˆ é™¤ API Token
      tags:
        - ç®¡ç†å‘˜ - API Token
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
          description: Token ID
      responses:
        "200":
          description: åˆ é™¤ Token æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/setting:
    put:
      summary: æ›´æ–°ç³»ç»Ÿè®¾ç½®
      tags:
        - ç®¡ç†å‘˜ - è®¾ç½®
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Setting"
      responses:
        "200":
          description: æ›´æ–°è®¾ç½®æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/siteConfig:
    put:
      summary: æ›´æ–°ç½‘ç«™é…ç½®
      tags:
        - ç®¡ç†å‘˜ - è®¾ç½®
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SiteConfig"
      responses:
        "200":
          description: æ›´æ–°ç½‘ç«™é…ç½®æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

  /api/admin/user:
    put:
      summary: æ›´æ–°ç”¨æˆ·ä¿¡æ¯
      tags:
        - ç®¡ç†å‘˜ - ç”¨æˆ·
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateUserDto"
      responses:
        "200":
          description: æ›´æ–°ç”¨æˆ·ä¿¡æ¯æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StandardResponse"

security:
  - BearerAuth: []
