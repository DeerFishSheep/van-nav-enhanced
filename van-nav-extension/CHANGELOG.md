# 更新日志

本文档记录 Van Nav 浏览器扩展的所有版本更新。

## [1.0.2] - 2025-11-06

### ⚡ 功能增强

- **快捷键支持**：新增 `Ctrl+E` (Windows/Linux) 或 `Command+E` (Mac) 快捷键快速打开扩展
- **快捷键开关**：在设置页面添加快捷键启用/禁用开关
- **改进成功提示**：添加书签成功后显示明确的"✅ 添加成功！"提示
- **自动选中分类**：新增大分类或子分类后自动选中刚创建的项
- **智能上传图标**：上传按钮现在可以上传当前显示的任何图片，不再局限于手动选择的本地文件
  - 支持上传自动获取的 favicon
  - 支持上传 API 获取的图标
  - 支持上传随机图标
  - 自动处理跨域图片（使用 Canvas 转换）

### 🔧 后端修复

- **返回分类ID**：修改后端 `AddCatelog` 接口返回新创建的分类ID
- **API一致性**：确保添加分类和子分类的API响应格式统一

### 🎨 UX优化

- **紧凑布局**：重新设计扩展界面为横向紧凑布局
  - 所有表单字段改为标签和输入框在同一行显示（如"名称: [输入框]"）
  - 图标预览区域从 120x120px 缩小到 80x80px
  - 减少垂直间距，节省约 30-40% 的空间
  - 保持完整功能性和良好可用性
- 延长成功提示显示时间到1.5秒，确保用户能看到
- 优化添加书签后的自动关闭时机
- 更新上传按钮提示文本，明确说明功能

## [1.0.1] - 2025-11-06

### 🔧 重要修复

- **修复认证问题**：将API认证方式从 `Authorization: Bearer token` 改为 `Authorization: token`，解决401错误
- **修复测试连接**：更正测试连接的API endpoint和认证方式
- **修复API端点**：使用正确的 `/api/admin/all` 和 `/api/admin/subcatelog/{id}` 端点

### ✨ 新增功能

- **分类下拉选择**：大分类和子分类改为下拉选择框，替代原来的输入框
- **快速新增分类**：添加"+ 新增"按钮，快速创建大分类和子分类
- **级联选择**：大分类选择后才能操作子分类，避免逻辑错误
- **自动选中**：新增分类后自动选中，提升用户体验
- **Token提示**：未配置Token时醒目提示，设置按钮变为橙色

### 🎨 UI优化

- 选择框和按钮组合布局
- 禁用状态的视觉反馈
- 悬停效果和过渡动画

### 📡 API集成

- 从服务器获取所有大分类
- 动态加载对应大分类的子分类
- 支持创建新的大分类和子分类

## [1.0.0] - 2025-11-06

### 🎉 首次发布

#### 新增功能

- ✨ **一键添加书签**：快速将当前网页添加到 Van Nav 导航站
- 🔄 **自动信息填充**：自动获取页面标题、URL和图标
- 🎨 **多种图标获取方式**：
  - 自动从网页获取 favicon
  - 从本地选择图片文件
  - 上传图片到服务器
  - 使用API从域名获取图标
  - 从15个图标库随机获取精美图标
  - 手动刷新/重新加载图标
- ⚙️ **灵活配置系统**：
  - 自定义服务器地址
  - 自定义端口号
  - API Token 认证
  - 连接测试功能
- 🔒 **安全存储**：使用 Chrome Sync Storage 同步保存配置
- 🎯 **右键菜单集成**：右键菜单快速添加书签
- 📱 **响应式界面**：优雅的弹出窗口和设置页面
- 🌐 **URL智能处理**：自动移除URL参数，保持链接简洁

#### 技术特性

- 📦 基于 Manifest V3（最新标准）
- 🚀 原生 JavaScript 实现，无框架依赖
- 💾 Chrome Storage API 数据同步
- 🔌 Chrome Scripting API 页面信息获取
- 🌍 支持跨域请求
- 🎨 Material Design 风格界面

#### 图标库

内置15个精美图标库，共超过1500个图标：
- 进击的巨人（84个）
- 数码宝贝（56个）
- 哆啦A梦（100个）
- 原神（160个）
- 樱桃小丸子（100个）
- 火影忍者（284个）
- 海贼王（100个）
- 宝可梦（112个 + 56个GIF）
- 四宫辉夜（100个）
- 蜡笔小新（100个）
- 史迪奇（100个）
- 猫和老鼠（100个）
- 变形金刚（48个）
- 喜羊羊与灰太狼（100个）

#### 文档

- 📖 完整的 README 文档
- 🚀 快速开始指南（QUICKSTART.md）
- 📦 详细安装指南（INSTALL.md）
- 🎨 图标生成工具（generate-icons.html）
- 📝 图标创建说明

---

## 计划中的功能

### [1.1.0] - 待发布

- [ ] 快捷键支持
- [ ] 批量导入浏览器书签
- [ ] 历史记录功能
- [ ] 智能分类推荐
- [ ] 离线队列（网络断开时缓存）

### [1.2.0] - 待发布

- [ ] 浏览器书签同步
- [ ] 标签管理功能
- [ ] 搜索已添加书签
- [ ] 导出/导入配置
- [ ] 多语言支持

### [1.3.0] - 待发布

- [ ] 团队协作功能
- [ ] 书签分享功能
- [ ] 自定义图标库
- [ ] 主题切换（暗黑模式）
- [ ] 统计分析功能

---

## 反馈与建议

如有问题或建议，请访问：
https://github.com/DeerFishSheep/van-nav-enhanced/issues

---

**版本号说明**

- 主版本号：重大功能更新或架构变更
- 次版本号：新功能添加
- 修订号：Bug修复和小改进

